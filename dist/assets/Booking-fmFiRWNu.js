import{k as T,g as q,e as O,r as c,j as e}from"./index-BxPqZtyK.js";import{m as E}from"./mockData-CqQG6xjf.js";/* empty css                         */const H=()=>{const{destinationId:C}=T(),[o]=q(),f=O(),[r,y]=c.useState(1),[m,j]=c.useState([]),[i,b]=c.useState({firstName:"",lastName:"",email:"",phone:""}),[x,v]=c.useState([]),[p,w]=c.useState(1),[S,I]=c.useState(""),l=E.find(s=>s.id===C);c.useEffect(()=>{if(!l){f("/destinations");return}const s=o.get("type"),a=o.get("itemId"),t=o.get("startDate"),d=o.get("endDate"),g=o.get("guests");if(s&&a&&t){const n=s==="activity"?l.activities.find(h=>h.id===a):l.accommodations.find(h=>h.id===a);if(n){const h={id:`${a}-${Date.now()}`,type:s,destinationId:l.id,destinationName:l.name,itemId:n.id,name:n.name,description:n.description,image:n.images[0],price:n.price,quantity:1,maxGuests:n.maxGuests||10,selectedGuests:parseInt(g||"1"),startDate:t,endDate:d||t,availabilityChecked:!0,available:!0};j([h]),w(parseInt(g||"1"))}}},[l,o,f]);const k=()=>{x.length<p&&v([...x,{firstName:"",lastName:"",document:"",email:"",phone:"",age:18}])},u=(s,a,t)=>{const d=[...x];d[s]={...d[s],[a]:t},v(d)},D=s=>{v(x.filter((a,t)=>t!==s))},G=()=>{const s=m.reduce((d,g)=>d+g.price*g.selectedGuests,0),a=s*.19,t=s*.02;return{subtotal:s,taxes:a,fees:t,total:s+a+t}},P=()=>{r<4&&y(r+1)},$=()=>{r>1&&y(r-1)},A=()=>{alert("¡Reserva creada exitosamente! Te enviaremos la confirmación por email."),f("/profile/bookings")};if(!l)return null;const N=G();return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 to-teal-100 py-12",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("h1",{className:"text-4xl font-bold text-gray-800 mb-2",children:["Reservar en ",l.name]}),e.jsx("div",{className:"flex items-center justify-center space-x-4 text-sm text-gray-600",children:[1,2,3,4].map(s=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${s<=r?"bg-emerald-500 text-white":"bg-gray-200 text-gray-500"}`,children:s}),e.jsxs("span",{className:"ml-2",children:[s===1&&"Selección",s===2&&"Datos",s===3&&"Huéspedes",s===4&&"Pago"]}),s<4&&e.jsx("div",{className:"w-8 h-px bg-gray-300 ml-4"})]},s))})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"glass-card p-6",children:[r===1&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Selecciona tus actividades"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Actividades disponibles"}),e.jsx("div",{className:"grid gap-4",children:l.activities.map(s=>e.jsx("div",{className:"border rounded-lg p-4 hover:border-emerald-300 transition-colors",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("img",{src:s.images[0],alt:s.name,className:"w-16 h-16 rounded-lg object-cover"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold",children:s.name}),e.jsx("p",{className:"text-sm text-gray-600",children:s.description}),e.jsxs("p",{className:"text-emerald-600 font-bold",children:["$",s.price.toLocaleString()," COP"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("select",{className:"border rounded px-2 py-1",onChange:a=>{const t=parseInt(a.target.value);w(t)},children:[...Array(s.maxGuests)].map((a,t)=>e.jsxs("option",{value:t+1,children:[t+1," persona",t>0?"s":""]},t+1))}),e.jsx("button",{className:"bg-emerald-500 text-white px-4 py-2 rounded hover:bg-emerald-600",onClick:()=>{const a={id:`${s.id}-${Date.now()}`,type:"activity",destinationId:l.id,destinationName:l.name,itemId:s.id,name:s.name,description:s.description,image:s.images[0],price:s.price,quantity:1,maxGuests:s.maxGuests,selectedGuests:p,startDate:new Date().toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0],availabilityChecked:!0,available:!0};j([...m,a])},children:"Agregar"})]})]})},s.id))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Alojamientos disponibles"}),e.jsx("div",{className:"grid gap-4",children:l.accommodations.map(s=>e.jsx("div",{className:"border rounded-lg p-4 hover:border-emerald-300 transition-colors",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("img",{src:s.images[0],alt:s.name,className:"w-16 h-16 rounded-lg object-cover"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold",children:s.name}),e.jsx("p",{className:"text-sm text-gray-600",children:s.description}),e.jsxs("p",{className:"text-emerald-600 font-bold",children:["$",s.price.toLocaleString()," COP/noche"]})]})]}),e.jsx("button",{className:"bg-emerald-500 text-white px-4 py-2 rounded hover:bg-emerald-600",onClick:()=>{const a={id:`${s.id}-${Date.now()}`,type:"accommodation",destinationId:l.id,destinationName:l.name,itemId:s.id,name:s.name,description:s.description,image:s.images[0],price:s.price,quantity:1,maxGuests:s.maxGuests,selectedGuests:p,startDate:new Date().toISOString().split("T")[0],endDate:new Date(Date.now()+864e5).toISOString().split("T")[0],availabilityChecked:!0,available:!0};j([...m,a])},children:"Agregar"})]})},s.id))})]})]}),r===2&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Información de contacto"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre"}),e.jsx("input",{type:"text",value:i.firstName,onChange:s=>b({...i,firstName:s.target.value}),className:"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-emerald-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Apellido"}),e.jsx("input",{type:"text",value:i.lastName,onChange:s=>b({...i,lastName:s.target.value}),className:"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-emerald-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),e.jsx("input",{type:"email",value:i.email,onChange:s=>b({...i,email:s.target.value}),className:"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-emerald-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Teléfono"}),e.jsx("input",{type:"tel",value:i.phone,onChange:s=>b({...i,phone:s.target.value}),className:"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-emerald-500",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Solicitudes especiales"}),e.jsx("textarea",{value:S,onChange:s=>I(s.target.value),rows:3,className:"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-emerald-500",placeholder:"Alguna solicitud especial o necesidad específica..."})]})]}),r===3&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Información de huéspedes"}),e.jsx("button",{onClick:k,className:"bg-emerald-500 text-white px-4 py-2 rounded hover:bg-emerald-600",disabled:x.length>=p,children:"Agregar huésped"})]}),e.jsxs("p",{className:"text-gray-600",children:["Total de huéspedes: ",p]}),x.map((s,a)=>e.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"font-semibold",children:["Huésped ",a+1]}),e.jsx("button",{onClick:()=>D(a),className:"text-red-500 hover:text-red-700",children:"Eliminar"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("input",{type:"text",placeholder:"Nombre",value:s.firstName,onChange:t=>u(a,"firstName",t.target.value),className:"border rounded-lg px-3 py-2 focus:ring-2 focus:ring-emerald-500"}),e.jsx("input",{type:"text",placeholder:"Apellido",value:s.lastName,onChange:t=>u(a,"lastName",t.target.value),className:"border rounded-lg px-3 py-2 focus:ring-2 focus:ring-emerald-500"}),e.jsx("input",{type:"text",placeholder:"Documento",value:s.document,onChange:t=>u(a,"document",t.target.value),className:"border rounded-lg px-3 py-2 focus:ring-2 focus:ring-emerald-500"}),e.jsx("input",{type:"number",placeholder:"Edad",value:s.age,onChange:t=>u(a,"age",parseInt(t.target.value)),className:"border rounded-lg px-3 py-2 focus:ring-2 focus:ring-emerald-500"}),e.jsx("input",{type:"email",placeholder:"Email",value:s.email,onChange:t=>u(a,"email",t.target.value),className:"border rounded-lg px-3 py-2 focus:ring-2 focus:ring-emerald-500"}),e.jsx("input",{type:"tel",placeholder:"Teléfono",value:s.phone,onChange:t=>u(a,"phone",t.target.value),className:"border rounded-lg px-3 py-2 focus:ring-2 focus:ring-emerald-500"})]})]},a))]}),r===4&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Método de pago"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("label",{className:"flex items-center p-4 border rounded-lg cursor-pointer hover:border-emerald-300",children:[e.jsx("input",{type:"radio",name:"payment",value:"card",className:"mr-3",defaultChecked:!0}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Tarjeta de crédito/débito"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Visa, Mastercard, Amex"})]})]}),e.jsxs("label",{className:"flex items-center p-4 border rounded-lg cursor-pointer hover:border-emerald-300",children:[e.jsx("input",{type:"radio",name:"payment",value:"nequi",className:"mr-3"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Nequi"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Pago móvil"})]})]}),e.jsxs("label",{className:"flex items-center p-4 border rounded-lg cursor-pointer hover:border-emerald-300",children:[e.jsx("input",{type:"radio",name:"payment",value:"pse",className:"mr-3"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"PSE"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Débito a cuenta"})]})]}),e.jsxs("label",{className:"flex items-center p-4 border rounded-lg cursor-pointer hover:border-emerald-300",children:[e.jsx("input",{type:"radio",name:"payment",value:"daviplata",className:"mr-3"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"DaviPlata"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Billetera digital"})]})]})]}),e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:e.jsxs("p",{className:"text-yellow-800 text-sm",children:[e.jsx("strong",{children:"Política de cancelación:"})," Cancelación gratuita hasta 24 horas antes del inicio de la actividad. Para alojamientos, cancelación gratuita hasta 48 horas antes del check-in."]})})]}),e.jsxs("div",{className:"flex justify-between mt-8 pt-6 border-t",children:[e.jsx("button",{onClick:$,disabled:r===1,className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Anterior"}),r<4?e.jsx("button",{onClick:P,disabled:r===1&&m.length===0||r===2&&(!i.firstName||!i.lastName||!i.email||!i.phone),className:"px-6 py-2 bg-emerald-500 text-white rounded-lg hover:bg-emerald-600 disabled:opacity-50 disabled:cursor-not-allowed",children:"Siguiente"}):e.jsx("button",{onClick:A,className:"px-6 py-2 bg-emerald-500 text-white rounded-lg hover:bg-emerald-600",children:"Confirmar reserva"})]})]})}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"glass-card p-6 sticky top-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Resumen de reserva"}),e.jsx("div",{className:"space-y-3 mb-6",children:m.map(s=>e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-white rounded-lg",children:[e.jsx("img",{src:s.image,alt:s.name,className:"w-12 h-12 rounded object-cover"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-sm",children:s.name}),e.jsxs("p",{className:"text-xs text-gray-600",children:[s.selectedGuests," persona",s.selectedGuests>1?"s":""]}),e.jsxs("p",{className:"text-emerald-600 font-bold text-sm",children:["$",(s.price*s.selectedGuests).toLocaleString()," COP"]})]}),e.jsx("button",{onClick:()=>j(m.filter(a=>a.id!==s.id)),className:"text-red-500 hover:text-red-700 text-sm",children:"×"})]},s.id))}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Subtotal:"}),e.jsxs("span",{children:["$",N.subtotal.toLocaleString()," COP"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"IVA (19%):"}),e.jsxs("span",{children:["$",N.taxes.toLocaleString()," COP"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Comisión:"}),e.jsxs("span",{children:["$",N.fees.toLocaleString()," COP"]})]}),e.jsxs("div",{className:"border-t pt-2 flex justify-between font-bold",children:[e.jsx("span",{children:"Total:"}),e.jsxs("span",{children:["$",N.total.toLocaleString()," COP"]})]})]}),e.jsxs("div",{className:"mt-6 pt-6 border-t",children:[e.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:"¿Necesitas ayuda?"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["WhatsApp: +57 300 123 4567",e.jsx("br",{}),"Email: soporte@wildtour.co"]})]})]})})]})]})})};export{H as default};

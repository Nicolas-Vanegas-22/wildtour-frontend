import{u as k,a2 as I,r as c,j as e,B as r,l as p,a3 as B,D as E,S as N,C as j,T as A,m as o,h as F,W as $,a4 as Z,F as G,L as l,M as H}from"./index-BxPqZtyK.js";import{C as q}from"./CookieManager-HDqaZ-uA.js";import{D as b}from"./download-D9AsqJ4u.js";import{T as y}from"./trash-2-fswwwBiO.js";import{R as V}from"./refresh-cw-CDwP-Kjv.js";import{E as W}from"./eye-Du1rtJmm.js";import{A as J}from"./arrow-left-BzBJmIVn.js";const X=()=>{const{user:t}=k(),{preferences:d,consentRecords:_,lastUpdated:w,showConsentModal:m,revokeAllConsents:C,exportConsentData:D}=I(),[n,P]=c.useState("overview"),[x,T]=c.useState([]),[f,R]=c.useState([]),[g,h]=c.useState(!1);c.useEffect(()=>{(()=>{T([{category:"Perfil Personal",count:8,lastUpdated:"2025-01-20",retention:"5 años después de cierre de cuenta",purposes:["Identificación","Comunicación","Prestación de servicios"]},{category:"Historial de Reservas",count:12,lastUpdated:"2025-01-18",retention:"7 años (obligación fiscal)",purposes:["Prestación de servicios","Facturación","Atención al cliente"]},{category:"Preferencias de Usuario",count:5,lastUpdated:"2025-01-15",retention:"2 años de inactividad",purposes:["Personalización","Mejora de servicios"]},{category:"Datos de Navegación",count:150,lastUpdated:"2025-01-21",retention:"12 meses",purposes:["Análisis de uso","Optimización","Seguridad"]}]),R([{id:"1",type:"consent",description:"Consentimiento otorgado para cookies de marketing",timestamp:"2025-01-21T10:30:00Z",status:"success"},{id:"2",type:"update",description:"Información de perfil actualizada",timestamp:"2025-01-20T15:45:00Z",status:"success"},{id:"3",type:"access",description:"Solicitud de acceso a datos procesada",timestamp:"2025-01-19T09:15:00Z",status:"success"}])})()},[]);const S=async()=>{h(!0);try{await new Promise(z=>setTimeout(z,2e3));const s={user:{id:t==null?void 0:t.id,email:t==null?void 0:t.email,username:t==null?void 0:t.username,registrationDate:t==null?void 0:t.registrationDate,lastLoginDate:t==null?void 0:t.lastLoginDate},consents:D(),dataSummary:x,recentActivity:f,exportDate:new Date().toISOString()},a=new Blob([JSON.stringify(s,null,2)],{type:"application/json"}),u=URL.createObjectURL(a),i=document.createElement("a");i.href=u,i.download=`wildtour-datos-completos-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(u)}catch(s){console.error("Error al exportar datos:",s)}finally{h(!1)}},L=async()=>{if(confirm("¿Está seguro de que desea eliminar TODOS sus datos? Esta acción no se puede deshacer.")){h(!0);try{await new Promise(s=>setTimeout(s,2e3)),C(),alert("Solicitud de eliminación de datos enviada. Será procesada en los próximos 15 días hábiles.")}catch(s){console.error("Error al solicitar eliminación:",s)}finally{h(!1)}}},U=()=>{const s=Object.keys(d).length,a=Object.values(d).filter(Boolean).length;return{granted:a,total:s,percentage:Math.round(a/s*100)}},O=s=>{switch(s){case"consent":return e.jsx(N,{className:"w-4 h-4"});case"access":return e.jsx(W,{className:"w-4 h-4"});case"update":return e.jsx(V,{className:"w-4 h-4"});case"delete":return e.jsx(y,{className:"w-4 h-4"});case"export":return e.jsx(b,{className:"w-4 h-4"});default:return e.jsx(G,{className:"w-4 h-4"})}},M=s=>{switch(s){case"consent":return"bg-green-100 text-green-700";case"access":return"bg-blue-100 text-blue-700";case"update":return"bg-yellow-100 text-yellow-700";case"delete":return"bg-red-100 text-red-700";case"export":return"bg-purple-100 text-purple-700";default:return"bg-neutral-100 text-neutral-700"}},v=U();return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-display font-bold text-neutral-800",children:"Centro de Privacidad"}),e.jsx("p",{className:"text-neutral-600",children:"Controle y gestione sus datos personales según la Ley 1581/2012"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(r,{onClick:S,variant:"outline",disabled:g,children:[e.jsx(b,{className:"w-4 h-4 mr-2"}),"Exportar Datos"]}),e.jsxs(r,{onClick:()=>m("preferences"),variant:"primary",children:[e.jsx(p,{className:"w-4 h-4 mr-2"}),"Configurar"]})]})]}),e.jsx("div",{className:"flex space-x-1 bg-neutral-100 rounded-xl p-1",children:[{id:"overview",label:"Resumen",icon:e.jsx(B,{className:"w-4 h-4"})},{id:"data",label:"Mis Datos",icon:e.jsx(E,{className:"w-4 h-4"})},{id:"consents",label:"Consentimientos",icon:e.jsx(N,{className:"w-4 h-4"})},{id:"activity",label:"Actividad",icon:e.jsx(j,{className:"w-4 h-4"})},{id:"settings",label:"Configuración",icon:e.jsx(p,{className:"w-4 h-4"})}].map(s=>e.jsxs("button",{onClick:()=>P(s.id),className:`flex items-center px-4 py-2 rounded-lg transition-colors ${n===s.id?"bg-white text-primary-700 shadow-sm font-medium":"text-neutral-600 hover:text-neutral-800"}`,children:[s.icon,e.jsx("span",{className:"ml-2 hidden sm:inline",children:s.label})]},s.id))}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-neutral-200 p-6",children:[n==="overview"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx(N,{className:"w-8 h-8 text-green-600"}),e.jsxs("span",{className:"text-2xl font-bold text-green-700",children:[v.percentage,"%"]})]}),e.jsx("h3",{className:"font-semibold text-green-800",children:"Consentimientos"}),e.jsxs("p",{className:"text-sm text-green-600",children:[v.granted," de ",v.total," categorías activas"]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx(E,{className:"w-8 h-8 text-blue-600"}),e.jsx("span",{className:"text-2xl font-bold text-blue-700",children:x.reduce((s,a)=>s+a.count,0)})]}),e.jsx("h3",{className:"font-semibold text-blue-800",children:"Datos Almacenados"}),e.jsxs("p",{className:"text-sm text-blue-600",children:["En ",x.length," categorías diferentes"]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx(j,{className:"w-8 h-8 text-purple-600"}),e.jsx("span",{className:"text-2xl font-bold text-purple-700",children:f.length})]}),e.jsx("h3",{className:"font-semibold text-purple-800",children:"Actividades"}),e.jsx("p",{className:"text-sm text-purple-600",children:"En los últimos 30 días"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold text-neutral-800",children:"Alertas de Privacidad"}),!d.marketing&&e.jsxs("div",{className:"flex items-start p-4 bg-yellow-50 border border-yellow-200 rounded-xl",children:[e.jsx(A,{className:"w-5 h-5 text-yellow-600 mr-3 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-yellow-800",children:"Consentimiento de Marketing Desactivado"}),e.jsx("p",{className:"text-sm text-yellow-700 mt-1",children:"No recibirá ofertas personalizadas ni promociones especiales."})]})]}),w&&new Date().getTime()-new Date(w).getTime()>365*24*60*60*1e3&&e.jsxs("div",{className:"flex items-start p-4 bg-blue-50 border border-blue-200 rounded-xl",children:[e.jsx(j,{className:"w-5 h-5 text-blue-600 mr-3 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-blue-800",children:"Revisión Anual de Consentimientos"}),e.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"Es recomendable revisar sus preferencias de privacidad anualmente."})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-neutral-800 mb-4",children:"Acciones Rápidas"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs(r,{onClick:()=>m("preferences"),variant:"outline",className:"justify-start h-auto p-4",children:[e.jsx(p,{className:"w-5 h-5 mr-3"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-medium",children:"Gestionar Consentimientos"}),e.jsx("div",{className:"text-sm text-neutral-500",children:"Configurar preferencias de privacidad"})]})]}),e.jsxs(r,{onClick:S,variant:"outline",className:"justify-start h-auto p-4",disabled:g,children:[e.jsx(b,{className:"w-5 h-5 mr-3"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-medium",children:"Exportar Mis Datos"}),e.jsx("div",{className:"text-sm text-neutral-500",children:"Descargar toda la información"})]})]})]})]})]}),n==="data"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-neutral-800",children:"Resumen de Datos Personales"}),e.jsx("div",{className:"space-y-4",children:x.map((s,a)=>e.jsxs(o.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:a*.1},className:"border border-neutral-200 rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-neutral-800 text-lg",children:s.category}),e.jsxs("p",{className:"text-neutral-600",children:[s.count," elementos de datos"]})]}),e.jsxs("div",{className:"text-right text-sm text-neutral-500",children:[e.jsxs("div",{children:["Actualizado: ",new Date(s.lastUpdated).toLocaleDateString("es-ES")]}),e.jsxs("div",{children:["Retención: ",s.retention]})]})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-neutral-700 mb-2",children:"Finalidades del tratamiento:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.purposes.map((u,i)=>e.jsx("span",{className:"px-3 py-1 bg-primary-100 text-primary-700 rounded-full text-sm",children:u},i))})]})]},a))}),e.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-6",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(A,{className:"w-5 h-5 text-amber-600 mr-3 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-amber-800 mb-2",children:"Sus Derechos"}),e.jsx("p",{className:"text-sm text-amber-700 mb-3",children:"Según la Ley 1581 de 2012, usted puede:"}),e.jsxs("ul",{className:"text-sm text-amber-700 space-y-1",children:[e.jsx("li",{children:"• Solicitar acceso completo a todos sus datos"}),e.jsx("li",{children:"• Corregir información inexacta o incompleta"}),e.jsx("li",{children:"• Solicitar la eliminación de datos innecesarios"}),e.jsx("li",{children:"• Oponerse al tratamiento para finalidades específicas"})]})]})]})})]}),n==="consents"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-xl font-semibold text-neutral-800",children:"Estado de Consentimientos"}),e.jsxs(r,{onClick:()=>m("history"),variant:"outline",size:"sm",children:[e.jsx(j,{className:"w-4 h-4 mr-2"}),"Ver Historial"]})]}),e.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:Object.entries(d).map(([s,a])=>e.jsxs("div",{className:`border rounded-xl p-4 ${a?"border-green-200 bg-green-50":"border-neutral-200 bg-neutral-50"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"font-medium text-neutral-800 capitalize",children:s.replace("_"," ")}),a?e.jsx(F,{className:"w-5 h-5 text-green-600"}):e.jsx($,{className:"w-5 h-5 text-neutral-400"})]}),e.jsx("p",{className:"text-sm text-neutral-600",children:a?"Consentimiento otorgado":"Consentimiento no otorgado"})]},s))}),e.jsxs("div",{className:"border-t pt-6",children:[e.jsx("h4",{className:"font-semibold text-neutral-800 mb-4",children:"Gestión de Consentimientos"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs(r,{onClick:()=>m("preferences"),variant:"primary",children:[e.jsx(p,{className:"w-4 h-4 mr-2"}),"Modificar Preferencias"]}),e.jsxs(r,{onClick:D,variant:"outline",children:[e.jsx(b,{className:"w-4 h-4 mr-2"}),"Exportar Historial"]}),e.jsxs(r,{onClick:C,variant:"outline",className:"text-red-600 border-red-200 hover:bg-red-50",children:[e.jsx(y,{className:"w-4 h-4 mr-2"}),"Revocar Todo"]})]})]})]}),n==="activity"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-neutral-800",children:"Actividad Reciente"}),e.jsx("div",{className:"space-y-3",children:f.map(s=>e.jsxs("div",{className:"flex items-start p-4 border border-neutral-200 rounded-xl",children:[e.jsx("div",{className:`p-2 rounded-lg mr-4 ${M(s.type)}`,children:O(s.type)}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-neutral-800",children:s.description}),e.jsx("p",{className:"text-sm text-neutral-500",children:new Date(s.timestamp).toLocaleString("es-ES")})]}),e.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${s.status==="success"?"bg-green-100 text-green-700":s.status==="pending"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:s.status==="success"?"Exitoso":s.status==="pending"?"Pendiente":"Fallido"})]},s.id))})]}),n==="settings"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-neutral-800",children:"Configuración de Privacidad"}),e.jsx(q,{}),e.jsxs("div",{className:"border-t pt-6",children:[e.jsx("h4",{className:"font-semibold text-neutral-800 mb-4 text-red-700",children:"Zona de Peligro"}),e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-6",children:[e.jsx("h5",{className:"font-semibold text-red-800 mb-2",children:"Eliminar Todos los Datos"}),e.jsx("p",{className:"text-sm text-red-700 mb-4",children:"Esta acción eliminará permanentemente todos sus datos de nuestros sistemas. No se puede deshacer."}),e.jsxs(r,{onClick:L,variant:"outline",className:"text-red-600 border-red-300 hover:bg-red-100",disabled:g,children:[e.jsx(y,{className:"w-4 h-4 mr-2"}),"Solicitar Eliminación Completa"]})]})]})]})]}),e.jsx(Z,{})]})},re=()=>{const{isAuthenticated:t}=k();return t?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 via-white to-accent-50",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-primary-100 rounded-full opacity-20 blur-3xl"}),e.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-accent-100 rounded-full opacity-20 blur-3xl"})]}),e.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 py-8",children:[e.jsxs(o.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-12",children:[e.jsxs(l,{to:"/",className:"inline-flex items-center text-neutral-600 hover:text-primary-600 transition-colors mb-8",children:[e.jsx(J,{className:"w-4 h-4 mr-2"}),"Volver al inicio"]}),e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-primary-500 to-accent-500 rounded-3xl flex items-center justify-center shadow-lg",children:e.jsx(H,{className:"w-10 h-10 text-white"})})}),e.jsx("h1",{className:"text-4xl font-display font-bold bg-gradient-to-r from-primary-600 to-accent-600 bg-clip-text text-transparent mb-4",children:"Centro de Privacidad"}),e.jsxs("p",{className:"text-neutral-600 text-lg max-w-3xl mx-auto",children:["Gestione y controle sus datos personales con total transparencia. Cumplimiento completo con la ",e.jsx("strong",{className:"text-primary-600",children:"Ley 1581 de 2012"})," de Colombia."]})]}),e.jsx(o.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:e.jsx(X,{})}),e.jsx(o.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.4},className:"mt-12 text-center",children:e.jsxs("div",{className:"bg-white/80 backdrop-blur-lg rounded-2xl shadow-lg border border-white/20 p-6",children:[e.jsxs("p",{className:"text-sm text-neutral-600",children:[e.jsx("strong",{children:"Wild Tour"})," se compromete con la protección de sus datos personales. Todos los tratamientos se realizan conforme a la Ley 1581 de 2012 y demás normativas aplicables."]}),e.jsxs("div",{className:"flex justify-center gap-6 mt-4 text-xs text-neutral-500",children:[e.jsx(l,{to:"/privacy",className:"hover:text-primary-600 transition-colors",children:"Política de Privacidad"}),e.jsx(l,{to:"/terms",className:"hover:text-primary-600 transition-colors",children:"Términos y Condiciones"}),e.jsx(l,{to:"/data-rights",className:"hover:text-primary-600 transition-colors",children:"Ejercer Derechos"})]})]})})]})]}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 via-white to-accent-50 flex items-center justify-center p-4",children:e.jsxs(o.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center max-w-md",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-primary-500 to-accent-500 rounded-2xl flex items-center justify-center mx-auto mb-6",children:e.jsx(N,{className:"w-8 h-8 text-white"})}),e.jsx("h2",{className:"text-2xl font-display font-bold text-neutral-800 mb-4",children:"Acceso Requerido"}),e.jsx("p",{className:"text-neutral-600 mb-6",children:"Para acceder al Centro de Privacidad, debe iniciar sesión en su cuenta."}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(l,{to:"/login",children:e.jsx(r,{className:"w-full",size:"lg",children:"Iniciar Sesión"})}),e.jsx(l,{to:"/registro",children:e.jsx(r,{variant:"outline",className:"w-full",size:"lg",children:"Crear Cuenta"})})]})]})})};export{re as default};

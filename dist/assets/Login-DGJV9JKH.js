import{r,u as j,e as v,j as e,m as y,L as i,M as N,B as g}from"./index-BxPqZtyK.js";import{a as w}from"./authApi-BtGNXviM.js";import{u as E}from"./useToast-B6lGbM68.js";import{A as S}from"./arrow-left-BzBJmIVn.js";import{M as L}from"./mail-17nTyjSB.js";import{L as k}from"./lock-BHBK-ueC.js";import{E as A}from"./eye-off-XHfeSMzV.js";import{E as C}from"./eye-Du1rtJmm.js";import"./apiClient-BOD3YzUN.js";import"./index-NIGUFBhG.js";import"./apiTypes-CHx9-Zzm.js";const F=()=>{const[l,x]=r.useState(""),[n,p]=r.useState(""),[o,f]=r.useState(!1),[c,m]=r.useState(!1),{setAuth:h,isAuthenticated:d}=j(),s=v(),{showToast:u}=E();r.useEffect(()=>{d&&s("/")},[d,s]);const b=async a=>{a.preventDefault(),m(!0);try{const t=await w.login({email:l,password:n});h(t.token,t.user),u("¡Bienvenido de vuelta!","success"),t.user.role==="provider"?s("/panel-proveedor"):t.user.role==="admin"?s("/admin"):s("/")}catch(t){u(t instanceof Error?t.message:"Error al iniciar sesión","error")}finally{m(!1)}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 via-white to-accent-50 flex items-center justify-center p-4",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-primary-100 rounded-full opacity-20 blur-3xl"}),e.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-accent-100 rounded-full opacity-20 blur-3xl"})]}),e.jsxs(y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"relative bg-white/80 backdrop-blur-lg rounded-3xl shadow-strong border border-white/20 p-8 w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs(i,{to:"/",className:"inline-flex items-center text-neutral-600 hover:text-primary-600 transition-colors mb-6",children:[e.jsx(S,{className:"w-4 h-4 mr-2"}),"Volver al inicio"]}),e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-primary-500 to-accent-500 rounded-2xl flex items-center justify-center shadow-lg",children:e.jsx(N,{className:"w-8 h-8 text-white"})})}),e.jsx("h1",{className:"text-3xl font-display font-bold bg-gradient-to-r from-primary-600 to-accent-600 bg-clip-text text-transparent mb-2",children:"Bienvenido de vuelta"}),e.jsx("p",{className:"text-neutral-600",children:"Inicia sesión para continuar tu aventura"})]}),e.jsxs("form",{onSubmit:b,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Correo electrónico"}),e.jsxs("div",{className:"relative",children:[e.jsx(L,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-neutral-400"}),e.jsx("input",{type:"email",value:l,onChange:a=>x(a.target.value),className:"w-full pl-11 pr-4 py-3 border border-neutral-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all",placeholder:"tu@email.com",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Contraseña"}),e.jsxs("div",{className:"relative",children:[e.jsx(k,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-neutral-400"}),e.jsx("input",{type:o?"text":"password",value:n,onChange:a=>p(a.target.value),className:"w-full pl-11 pr-12 py-3 border border-neutral-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all",placeholder:"••••••••",required:!0}),e.jsx("button",{type:"button",onClick:()=>f(!o),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-neutral-400 hover:text-neutral-600 transition-colors",children:o?e.jsx(A,{className:"w-5 h-5"}):e.jsx(C,{className:"w-5 h-5"})})]})]}),e.jsx(g,{type:"submit",disabled:c,className:"w-full",size:"lg",children:c?"Iniciando sesión...":"Iniciar Sesión"})]}),e.jsxs("div",{className:"mt-8 text-center space-y-4",children:[e.jsx(i,{to:"/forgot-password",className:"text-sm text-primary-600 hover:text-primary-700 font-medium transition-colors",children:"¿Olvidaste tu contraseña?"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-1 border-t border-neutral-200"}),e.jsx("span",{className:"px-4 text-sm text-neutral-500",children:"o"}),e.jsx("div",{className:"flex-1 border-t border-neutral-200"})]}),e.jsxs("p",{className:"text-sm text-neutral-600",children:["¿No tienes cuenta?"," ",e.jsx(i,{to:"/registro",className:"text-primary-600 hover:text-primary-700 font-medium transition-colors",children:"Regístrate aquí"})]})]})]})]})};export{F as default};

import{u as p,r as x,j as e}from"./index-BxPqZtyK.js";import{u as c}from"./useQuery-CGC4B3bg.js";class i{static async getProviderStats(a){return console.warn("ProviderRepo.getProviderStats not implemented - using mock data"),{totalBookings:125,totalRevenue:156e5,activeListings:8,averageRating:4.7,pendingBookings:3}}static async getProviderListings(a){return console.warn("ProviderRepo.getProviderListings not implemented - using mock data"),[]}static async createListing(a,l){return console.warn("ProviderRepo.createListing not implemented - using mock data"),{id:`listing-${Date.now()}`,name:l.name,type:l.type,status:"pending",bookings:0,revenue:0}}}function C(){const{user:r}=p(),[a,l]=x.useState("overview"),[d,n]=x.useState("30d"),{data:s}=c({queryKey:["provider-stats",d],queryFn:()=>i.getStats(d)}),{data:o}=c({queryKey:["provider-bookings","recent"],queryFn:()=>i.getRecentBookings()}),{data:g}=c({queryKey:["provider-services"],queryFn:()=>i.getServices()}),u=[{id:"overview",label:"Resumen",icon:"📊"},{id:"bookings",label:"Reservas",icon:"📅"},{id:"services",label:"Servicios",icon:"🏨"},{id:"calendar",label:"Calendario",icon:"📆"},{id:"analytics",label:"Analíticas",icon:"📈"}],m=async(t,h)=>{try{await i.updateBookingStatus(t,h),alert(`Reserva ${h==="confirm"?"confirmada":"cancelada"} exitosamente`)}catch{alert("Error al actualizar la reserva")}};return e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Panel de Proveedor"}),e.jsxs("p",{className:"text-gray-600",children:["Bienvenido, ",r==null?void 0:r.name]})]}),e.jsxs("div",{className:"flex items-center space-x-4 mt-4 lg:mt-0",children:[e.jsxs("select",{value:d,onChange:t=>n(t.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[e.jsx("option",{value:"7d",children:"Últimos 7 días"}),e.jsx("option",{value:"30d",children:"Últimos 30 días"}),e.jsx("option",{value:"90d",children:"Últimos 90 días"}),e.jsx("option",{value:"1y",children:"Último año"})]}),e.jsx("button",{className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"Crear servicio"})]})]}),e.jsx("div",{className:"border-b border-gray-200 mb-8",children:e.jsx("nav",{className:"-mb-px flex space-x-8 overflow-x-auto",children:u.map(t=>e.jsxs("button",{onClick:()=>l(t.id),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm flex items-center gap-2 ${a===t.id?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx("span",{children:t.icon}),t.label]},t.id))})}),a==="overview"&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Reservas Totales"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:(s==null?void 0:s.totalBookings)||0})]}),e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})})]}),e.jsx("div",{className:"mt-4",children:e.jsxs("span",{className:"text-sm text-gray-500",children:[(s==null?void 0:s.pendingBookings)||0," pendientes"]})})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Ingresos Totales"}),e.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:["$",((s==null?void 0:s.totalRevenue)||0).toLocaleString()]})]}),e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})})]}),e.jsx("div",{className:"mt-4",children:e.jsxs("span",{className:"text-sm text-green-600",children:["+$",((s==null?void 0:s.monthlyRevenue)||0).toLocaleString()," este mes"]})})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Calificación"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:((s==null?void 0:s.averageRating)||0).toFixed(1)})]}),e.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-yellow-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})})]}),e.jsx("div",{className:"mt-4",children:e.jsxs("span",{className:"text-sm text-gray-500",children:[(s==null?void 0:s.totalReviews)||0," opiniones"]})})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Ocupación"}),e.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[((s==null?void 0:s.occupancyRate)||0).toFixed(0),"%"]})]}),e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 8v8m-4-5v5m-4-2v2m-2 4h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})]}),e.jsx("div",{className:"mt-4",children:e.jsxs("span",{className:"text-sm text-gray-500",children:[(s==null?void 0:s.activeServices)||0," servicios activos"]})})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Reservas Recientes"}),e.jsx("button",{onClick:()=>l("bookings"),className:"text-green-600 hover:text-green-700 text-sm font-medium",children:"Ver todas"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Cliente"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Servicio"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Fecha"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Huéspedes"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Total"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Estado"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Acciones"})]})}),e.jsx("tbody",{children:o==null?void 0:o.slice(0,5).map(t=>e.jsxs("tr",{className:"border-b border-gray-100",children:[e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:t.customer.name}),e.jsx("div",{className:"text-sm text-gray-500",children:t.customer.email})]})}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("img",{src:t.service.image,alt:t.service.name,className:"w-10 h-10 rounded-lg object-cover"}),e.jsx("span",{className:"font-medium",children:t.service.name})]})}),e.jsx("td",{className:"py-3 px-4 text-sm text-gray-900",children:new Date(t.checkIn).toLocaleDateString()}),e.jsx("td",{className:"py-3 px-4 text-sm text-gray-900",children:t.guests.adults+t.guests.children}),e.jsxs("td",{className:"py-3 px-4 font-medium text-gray-900",children:["$",t.totalAmount.toLocaleString()]}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${t.status==="confirmed"?"bg-green-100 text-green-800":t.status==="pending"?"bg-yellow-100 text-yellow-800":t.status==="completed"?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800"}`,children:t.status==="confirmed"?"Confirmada":t.status==="pending"?"Pendiente":t.status==="completed"?"Completada":"Cancelada"})}),e.jsx("td",{className:"py-3 px-4",children:t.status==="pending"&&e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>m(t.id,"confirm"),className:"text-green-600 hover:text-green-700 text-sm",children:"Confirmar"}),e.jsx("button",{onClick:()=>m(t.id,"cancel"),className:"text-red-600 hover:text-red-700 text-sm",children:"Cancelar"})]})})]},t.id))})]})})]})]}),a==="bookings"&&e.jsx("div",{className:"space-y-6",children:e.jsx(j,{})}),a==="services"&&e.jsx("div",{className:"space-y-6",children:e.jsx(v,{services:g})}),a==="calendar"&&e.jsx("div",{className:"space-y-6",children:e.jsx(y,{})}),a==="analytics"&&e.jsx("div",{className:"space-y-6",children:e.jsx(f,{})})]})}function j(){const[r,a]=x.useState("all"),[l,d]=x.useState("all"),{data:n}=c({queryKey:["provider-bookings",r,l],queryFn:()=>i.getBookings(r,l)});return e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Gestión de Reservas"}),e.jsxs("div",{className:"flex space-x-4 mt-4 lg:mt-0",children:[e.jsxs("select",{value:r,onChange:s=>a(s.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[e.jsx("option",{value:"all",children:"Todas las reservas"}),e.jsx("option",{value:"pending",children:"Pendientes"}),e.jsx("option",{value:"confirmed",children:"Confirmadas"}),e.jsx("option",{value:"completed",children:"Completadas"}),e.jsx("option",{value:"cancelled",children:"Canceladas"})]}),e.jsxs("select",{value:l,onChange:s=>d(s.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[e.jsx("option",{value:"all",children:"Todas las fechas"}),e.jsx("option",{value:"today",children:"Hoy"}),e.jsx("option",{value:"week",children:"Esta semana"}),e.jsx("option",{value:"month",children:"Este mes"})]})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"ID"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Cliente"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Servicio"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Fecha"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Huéspedes"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Total"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Estado"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Acciones"})]})}),e.jsx("tbody",{children:n==null?void 0:n.map(s=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[e.jsxs("td",{className:"py-3 px-4 text-sm font-mono text-gray-600",children:["#",s.id.slice(-6)]}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:s.customer.name}),e.jsx("div",{className:"text-sm text-gray-500",children:s.customer.email}),e.jsx("div",{className:"text-sm text-gray-500",children:s.customer.phone})]})}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("img",{src:s.service.image,alt:s.service.name,className:"w-12 h-12 rounded-lg object-cover"}),e.jsx("span",{className:"font-medium",children:s.service.name})]})}),e.jsxs("td",{className:"py-3 px-4 text-sm text-gray-900",children:[e.jsx("div",{children:new Date(s.checkIn).toLocaleDateString()}),s.checkOut&&e.jsxs("div",{className:"text-gray-500",children:["hasta ",new Date(s.checkOut).toLocaleDateString()]})]}),e.jsxs("td",{className:"py-3 px-4 text-sm text-gray-900",children:[s.guests.adults," adulto(s)",s.guests.children>0&&e.jsxs("div",{children:[s.guests.children," niño(s)"]})]}),e.jsxs("td",{className:"py-3 px-4 font-medium text-gray-900",children:["$",s.totalAmount.toLocaleString()]}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${s.status==="confirmed"?"bg-green-100 text-green-800":s.status==="pending"?"bg-yellow-100 text-yellow-800":s.status==="completed"?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800"}`,children:s.status==="confirmed"?"Confirmada":s.status==="pending"?"Pendiente":s.status==="completed"?"Completada":"Cancelada"})}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{className:"text-blue-600 hover:text-blue-700 text-sm",children:"Ver"}),s.status==="pending"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"text-green-600 hover:text-green-700 text-sm",children:"Confirmar"}),e.jsx("button",{className:"text-red-600 hover:text-red-700 text-sm",children:"Cancelar"})]}),s.status==="confirmed"&&e.jsx("button",{className:"text-blue-600 hover:text-blue-700 text-sm",children:"Completar"})]})})]},s.id))})]})})]})}function v({services:r}){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Mis Servicios"}),e.jsx("button",{className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"Agregar Servicio"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r==null?void 0:r.map(a=>e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[e.jsx("img",{src:a.image,alt:a.name,className:"w-full h-48 object-cover"}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("h3",{className:"font-semibold text-lg",children:a.name}),e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${a.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:a.status==="active"?"Activo":"Inactivo"})]}),e.jsx("p",{className:"text-gray-600 text-sm mb-4",children:a.description}),e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("span",{className:"font-semibold text-green-600",children:["$",a.price.toLocaleString()]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-yellow-500",children:"★"}),e.jsxs("span",{className:"ml-1 text-sm",children:[a.rating," (",a.reviewCount,")"]})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{className:"flex-1 bg-green-600 text-white py-2 px-3 rounded-lg text-sm hover:bg-green-700",children:"Editar"}),e.jsx("button",{className:"flex-1 border border-gray-300 text-gray-700 py-2 px-3 rounded-lg text-sm hover:bg-gray-50",children:"Estadísticas"})]})]})]},a.id))})]})}function y(){return e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Calendario de Disponibilidad"}),e.jsx("div",{className:"h-96 flex items-center justify-center border-2 border-dashed border-gray-300 rounded-lg",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-gray-500 mb-4",children:"Calendario interactivo de disponibilidad"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Aquí se integraría un componente de calendario completo"})]})})]})}function f(){return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Analíticas Detalladas"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[e.jsx("h3",{className:"font-semibold mb-4",children:"Ingresos por Mes"}),e.jsx("div",{className:"h-64 flex items-center justify-center border-2 border-dashed border-gray-300 rounded-lg",children:e.jsx("p",{className:"text-gray-500",children:"Gráfico de ingresos"})})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[e.jsx("h3",{className:"font-semibold mb-4",children:"Reservas por Servicio"}),e.jsx("div",{className:"h-64 flex items-center justify-center border-2 border-dashed border-gray-300 rounded-lg",children:e.jsx("p",{className:"text-gray-500",children:"Gráfico de reservas"})})]})]})]})}export{C as default};

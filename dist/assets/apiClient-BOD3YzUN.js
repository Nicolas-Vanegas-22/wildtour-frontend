import{a as c}from"./index-NIGUFBhG.js";import{u as r}from"./index-BxPqZtyK.js";const i="http://localhost:5000/api",o=c.create({baseURL:i,headers:{"Content-Type":"application/json"}});o.interceptors.request.use(t=>{const a=r.getState().token;return a&&t.headers&&(t.headers.Authorization=`Bearer ${a}`),t},t=>Promise.reject(t));o.interceptors.response.use(t=>t.data&&typeof t.data=="object"&&"success"in t.data?{...t,data:t.data.data??t.data,_meta:{success:t.data.success,message:t.data.message,errors:t.data.errors}}:t,t=>{var a,s;if(((a=t.response)==null?void 0:a.status)===401&&r.getState().logout(),(s=t.response)!=null&&s.data){const e=t.response.data;!e.success&&e.errors&&(t.message=e.message||e.errors.join(", "))}return Promise.reject(t)});export{o as a};
